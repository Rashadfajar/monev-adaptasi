:root{
  --bg:#f4f7ff; --panel:#fff; --text:#0f172a; --muted:#475569; --border:rgba(15,23,42,.12);
  --shadow:0 10px 22px rgba(2,6,23,.10); --radius:16px; --pad:16px;
  --accent:#2563eb; --accent2:#06b6d4;
  --font:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif;
}
*{box-sizing:border-box}
body{margin:0;font-family:var(--font);color:var(--text);background:var(--bg);line-height:1.35}
.wrap{max-width:1200px;margin:0 auto;padding:16px}
.nav{
  position:sticky;top:0;z-index:10;
  background:linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.78));
  backdrop-filter:saturate(160%) blur(10px);
  border-bottom:1px solid var(--border);
}
.nav .inner{max-width:1200px;margin:0 auto;display:flex;gap:10px;align-items:center;justify-content:space-between;padding:10px 16px;flex-wrap:wrap}

.appbar{
  position: static;  
  top: 0;
  z-index: 20;
}

/* bar atas (judul) */
.topbar{
  background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.84));
  backdrop-filter: saturate(160%) blur(10px);
  border-bottom: 1px solid var(--border);
}

/* bar bawah (nav) */
.tabbar{
  /* background: rgba(255,255,255,.72);
  backdrop-filter: saturate(160%) blur(10px);
  border-bottom: 1px solid var(--border); */
  z-index: 100;
}

/* inner sekarang dipakai bar atas & bawah */
.appbar .inner{
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

/* untuk tabbar: padding sedikit beda */
.tabbar .inner{ padding-top: 8px; padding-bottom: 10px; }

/* menu jadi tab row (gunakan style pill kamu) */
.tabbar .menu{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
/* menu gaya tab khusus di bar bawah */
.tabbar .menu a{
  text-decoration:none;
  color: #000000;
  font-size: 12px;
  font-weight: 900;
  letter-spacing: .2px;
  padding: 9px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  box-shadow: 0 8px 18px rgba(0,0,0,.16);
  transition: transform .06s ease, background .2s ease, border-color .2s ease;
}

.tabbar .menu a.active{
  border-color: rgba(37,99,235,.30);
  background: rgba(37,99,235,.10);
  font-weight: 750;
}

.tabbar .menu a:hover{
  background: rgba(37,99,235,.08);
}

/* .nav{ display:none; } penting: kalau kamu masih punya .nav lama di HTML, hapus saja */
.brand{display:flex;gap:10px;align-items:center}
.badge{width:34px;height:34px;border-radius:12px;background:linear-gradient(135deg, rgba(37,99,235,.9), rgba(6,182,212,.85));box-shadow:var(--shadow)}
.brand b{font-size:28px;letter-spacing:.2px}
.brand small{display:block;color:var(--muted);font-size:12px}
.menu{display:flex;gap:8px;flex-wrap:wrap}
.menu a{
  text-decoration:none;color:var(--text);
  border:1px solid var(--border);background:rgba(15,23,42,.03);
  padding:8px 10px;border-radius:999px;font-size:12px;box-shadow:var(--shadow)
}
.menu a.active{border-color:rgba(37,99,235,.35); background:rgba(37,99,235,.08)}
.menu a:hover{background:rgba(37,99,235,.08)}
header{padding:14px 0 10px}
header h1{margin:0 10px 6px;font-size:28px;font-weight:700}
header p{margin:0;color:var(--muted);font-size:13px;max-width:920px}

.grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
.card .hd{padding:12px var(--pad);border-bottom:1px solid var(--border);background:linear-gradient(180deg, rgba(37,99,235,.08), transparent);display:flex;justify-content:space-between;gap:10px;align-items:flex-start}
.card .hd .h{font-weight:650;font-size:14px}
.card .hd .s{font-size:12px;color:var(--muted)}
.card .bd{padding:var(--pad)}

/* span helpers */
.span-1{grid-column:span 1}.span-2{grid-column:span 2}.span-3{grid-column:span 3}.span-4{grid-column:span 4}
.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}.span-8{grid-column:span 8}
.span-9{grid-column:span 9}.span-10{grid-column:span 10}.span-11{grid-column:span 11}.span-12{grid-column:span 12}
@media(max-width:980px){
  .span-1,.span-2,.span-3,.span-4,.span-5,.span-6,.span-7,.span-8,.span-9,.span-10,.span-11{grid-column:span 12}
}

.kpi .label{font-size:12px;color:var(--muted)}
.kpi .value{font-size:22px;font-weight:800}
.pill{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid var(--border);background:rgba(15,23,42,.03);color:var(--muted);white-space:nowrap}
.tag{display:inline-block;padding:4px 8px;border-radius:999px;border:1px solid var(--border);background:rgba(15,23,42,.03);font-size:12px;color:var(--muted);margin-right:6px;margin-top:4px}
.footer-note{margin-top:10px;color:var(--muted);font-size:12px}

.btnrow{display:flex;justify-content:flex-end;gap:10px;margin-top:14px;flex-wrap:wrap}
button{cursor:pointer;padding:4px 12px;border-radius:12px;border:1px solid var(--border);background:rgba(15,23,42,.03);box-shadow:var(--shadow);font-weight:650;font-size:13px}
button.primary{background:linear-gradient(90deg, rgba(37,99,235,.95), rgba(6,182,212,.85));border:0;color:#fff}

canvas{width:100%;height:260px;background:rgba(37,99,235,.03);border:1px solid var(--border);border-radius:14px}

/* controls */
select,input[type="search"],input[type="text"]{
  outline:none;
  padding:10px 12px;border-radius:12px;border:1px solid var(--border);
  background:rgba(15,23,42,.03);
}

/* tables */
.table-wrap{width:100%;overflow:auto;border-radius:14px}
table{min-width:920px;width:100%;border-collapse:separate;border-spacing:0;border-radius:14px;overflow:hidden;border:1px solid var(--border);background:#fff}
th,td{padding:10px;font-size:13px;border-bottom:1px solid rgba(15,23,42,.10);vertical-align:top}
th{background:rgba(37,99,235,.06);text-align:left;font-weight:700;position:sticky;top:0}
tr:last-child td{border-bottom:none}

/* map placeholder */
.map{
  height:360px;
  border-radius:14px;
  border:1px dashed rgba(15,23,42,.20);
  background:linear-gradient(180deg, rgba(37,99,235,.08), rgba(6,182,212,.05));
  display:flex;align-items:center;justify-content:center;
  color:rgba(15,23,42,.72);font-size:13px;padding:14px;text-align:center
}

/* modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(15,23,42,.35);padding:18px}
.modal .box{width:min(900px,100%);background:#fff;border:1px solid var(--border);border-radius:20px;box-shadow:var(--shadow);overflow:hidden}
.modal .box .hd{padding:14px 16px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.modal .box .bd{padding:16px}
.modal .box p,.modal .box li{color:var(--muted);font-size:13px}



/* --- User box on topbar --- */
.userbox{
  margin-left: auto;
  display:flex;
  align-items:center;
  gap:10px;
}

.userchip{
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color: var(--muted);
}

.avatar{
  width:34px;height:34px;
  border-radius:999px;
  border:1px solid var(--border);
  background:
    radial-gradient(circle at 30% 30%, rgba(37,99,235,.35), transparent 55%),
    radial-gradient(circle at 70% 70%, rgba(6,182,212,.25), transparent 55%),
    rgba(15,23,42,.03);
}

/* --- Tabbar nav right --- */
.tabhint{
  font-size:12px;
  color: var(--muted);
}

/* dorong menu ke kanan */
.menu-right{
  margin-left: auto;
  justify-content: flex-end;
}

/* biar tabbar tetap rapih saat layar kecil */
@media (max-width: 820px){
  .tabhint{ display:none; }
  .menu-right{ margin-left: 0; }
}


/* ===== typography helpers ===== */
.muted{ color:var(--muted); }
.topbar .brand small.muted{ font-size:12px; display:block; margin-top:2px; opacity:.85; }

/* tabbar layout: kiri judul halaman + kanan menu */
.tabrow{ align-items:flex-end; }
.pagehead h1{ margin:0; font-size:28px; font-weight:700; }
.pagehead .sub{ font-size:12px; color:var(--muted); margin-top:4px; }
.tabbar header{ padding:0; }          /* stop ikut style header umum */
.tabbar header h1{ margin:0; }        /* aman */

/* chip */
.chip{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color: var(--muted);
  font-size:12px;
  white-space:nowrap;
}
.chip.mini{ padding:5px 8px; font-size:11px; }

/* KPI new */
.kpi2 .kpi-top{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.kpi2 .kpi-title{ font-size:12px; color:var(--muted); }
.kpi2 .kpi-main{ font-size:26px; font-weight:900; margin-top:6px; letter-spacing:.3px; }
.kpi2 .kpi-foot{ margin-top:6px; display:flex; gap:8px; align-items:center; font-size:12px; }
.delta{
  display:inline-flex; align-items:center;
  padding:4px 8px; border-radius:999px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  font-weight:750;
}
.delta.up{ border-color: rgba(34,197,94,.25); background: rgba(34,197,94,.10); color: rgba(21,128,61,1); }
.delta.down{ border-color: rgba(239,68,68,.25); background: rgba(239,68,68,.10); color: rgba(185,28,28,1); }
.delta.flat{ border-color: rgba(148,163,184,.35); background: rgba(148,163,184,.12); color: rgba(71,85,105,1); }

/* legend */
.legend{ display:flex; gap:14px; flex-wrap:wrap; margin-top:10px; color:var(--muted); font-size:12px; }
.dot{ display:inline-block; width:10px; height:10px; border-radius:99px; margin-right:6px; vertical-align:middle; }
.dot.a{ background: rgba(37,99,235,.92); }
.dot.b{ background: rgba(34,197,94,.90); }
.insight{
  margin-top:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.60);
  color: var(--muted);
  font-size:13px;
}

/* status grid */
.statgrid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:10px;
}
.statbox{
  border:1px solid rgba(15,23,42,.10);
  background: rgba(15,23,42,.02);
  border-radius:14px;
  padding:10px;
}
.statval{ font-size:18px; font-weight:850; margin:4px 0 6px; }
.tag.good{ border-color: rgba(34,197,94,.25); background: rgba(34,197,94,.10); }
.tag.warn{ border-color: rgba(245,158,11,.25); background: rgba(245,158,11,.10); }

.mini-bars{ margin-top:10px; }

.barrow{
  display:grid;
  grid-template-columns: 44px 1fr 44px;
  gap:10px;
  align-items:center;
  margin:10px 0;
}
.barlabel{ font-size:12px; color:var(--muted); }
.barnum{ text-align:right; color:var(--muted); font-variant-numeric: tabular-nums; }
.bar{
  height:10px;
  border-radius:999px;
  border:1px solid rgba(37,99,235,.18);
  background: rgba(37,99,235,.08);
  overflow:hidden;
}
.bar span{ display:block; height:100%; background: rgba(37,99,235,.70); }
.bar.warn{ border-color: rgba(245,158,11,.22); background: rgba(245,158,11,.10); }
.bar.warn span{ background: rgba(245,158,11,.80); }
.bar.bad{ border-color: rgba(239,68,68,.22); background: rgba(239,68,68,.10); }
.bar.bad span{ background: rgba(239,68,68,.80); }

.bullets{ margin:10px 0 0; padding-left:18px; color:var(--muted); font-size:13px; }
.bullets li{ margin:6px 0; }
.bullets b{ color: var(--text); }

/* ===== Quick Access Cards ===== */
.quickgrid{ gap:12px; }
.qcard{
  display:block;
  text-decoration:none;
  color:inherit;
  border:1px solid rgba(15,23,42,.12);
  background: rgba(255,255,255,.86);
  border-radius: 18px;
  padding: 12px;
  box-shadow: var(--shadow);
  transition: transform .14s ease, box-shadow .14s ease, border-color .14s ease;
}
.qcard:hover{
  transform: translateY(-2px);
  border-color: rgba(37,99,235,.25);
  box-shadow: 0 16px 32px rgba(2,6,23,.12);
}
.qhd{ margin-bottom:10px; }
.qt{ font-weight:900; font-size:14px; }
.qs{ color:var(--muted); font-size:12px; margin-top:2px; }

.qviz{
  width:100%;
  height:120px;
  border-radius:14px;
  border:1px solid rgba(15,23,42,.10);
  background: rgba(15,23,42,.02);
}

.qmap{
  height:120px;
  border-radius:14px;
  border:1px solid rgba(15,23,42,.10);
  background:
    radial-gradient(circle at 30% 40%, rgba(37,99,235,.25), transparent 55%),
    radial-gradient(circle at 65% 55%, rgba(6,182,212,.20), transparent 60%),
    linear-gradient(180deg, rgba(37,99,235,.06), rgba(6,182,212,.04));
}
.qmeta{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }

/* responsive */
@media(max-width:980px){
  .statgrid{ grid-template-columns: 1fr; }
}
/* ===== Topbar tools: search + help ===== */
.userbox{ gap:10px; }

.searchbox{
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(255,255,255,.65);
  backdrop-filter: blur(10px);
  min-width: 320px;
}
.sicon{ color: var(--muted); font-size:14px; }

.searchbox input{
  border:0 !important;
  outline:none !important;
  background: transparent !important;
  padding:0 !important;
  width:100%;
  font-size:13px;
  color: var(--text);
}

.helpbtn{
  width:34px;height:34px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  box-shadow:none;
  font-weight:900;
  color: var(--text);
}
.helpbtn:hover{ background: rgba(37,99,235,.08); }

/* modal close button */
.iconclose{
  width:34px;height:34px;
  border-radius:10px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  box-shadow:none;
  cursor:pointer;
}

.help-list{ margin:0; padding-left:18px; color:var(--muted); font-size:13px; }
.help-list li{ margin:8px 0; }
.help-list b{ color:var(--text); }

/* responsive: search mengecil */
@media (max-width: 980px){
  .searchbox{ min-width: 220px; }
}
@media (max-width: 720px){
  .searchbox{ min-width: 160px; }
  .userchip{ display:none; }
}


/* ===== Impact specific ===== */
.sigchip{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(15,23,42,.03);
  color: var(--muted);
  white-space:nowrap;
}
.sigchip.green{ background: rgba(34,197,94,.10); border-color: rgba(34,197,94,.25); color: rgba(21,128,61,.95); }
.sigchip.yellow{ background: rgba(245,158,11,.12); border-color: rgba(245,158,11,.28); color: rgba(146,64,14,.95); }
.sigchip.red{ background: rgba(239,68,68,.10); border-color: rgba(239,68,68,.25); color: rgba(153,27,27,.95); }

.mapmap{
  border-radius:14px;
  border:1px dashed rgba(15,23,42,.20);
  background:linear-gradient(180deg, rgba(37,99,235,.08), rgba(6,182,212,.05));
  padding:12px;
}
.maplegend{
  display:flex;
  align-items:center;
  gap:8px;
  margin-bottom:10px;
}
.mapgrid{
  display:grid;
  grid-template-columns: repeat(6, 1fr);
  gap:10px;
  padding: 10px 0 4px;
}
.mapgrid .cell{
  height: 44px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,.10);
  background: rgba(255,255,255,.55);
}
.mapgrid .cell.green{ background: rgba(34,197,94,.18); }
.mapgrid .cell.yellow{ background: rgba(245,158,11,.22); }
.mapgrid .cell.red{ background: rgba(239,68,68,.18); }

@media (max-width: 980px){
  .mapgrid{ grid-template-columns: repeat(3, 1fr); }
}


/* =========================================================
   Dropdown nav (Horizontal / Vertikal / Impact)
========================================================= */
.menu .dd{position:relative; display:inline-flex; align-items:center}
.menu .dd-btn{
  appearance:none;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: #000000;
  padding: 9px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  letter-spacing: .2px;
  cursor: pointer;
  box-shadow: 0 8px 18px rgba(0,0,0,.16);
  transition: transform .06s ease, background .2s ease, border-color .2s ease, color .2s ease;
}
.tabbar .menu .dd-btn{
  appearance:none;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  color: #000000;
  padding: 9px 12px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  letter-spacing: .2px;
  cursor: pointer;
  box-shadow: 0 8px 18px rgba(0,0,0,.16);
  transition: transform .06s ease, background .2s ease, border-color .2s ease, color .2s ease;
}
.menu .dd-btn:hover{background:rgba(37,99,235,.08)}
.menu .dd-btn.active,
.menu .dd.active > .dd-btn{
  border-color: rgba(37,99,235,.30);
  background: rgba(37,99,235,.10);
  font-weight: 750;
}

.menu .dd-menu{
  position:absolute;
  top: calc(100% + 8px);
  left: 0;
  min-width: 220px;
  padding: 8px;
  border-radius: 14px;
  border:1px solid var(--border);
  background: var(--panel);
  box-shadow: var(--shadow);
  display:none;
  z-index: 50;
}
.menu .dd-menu a{
  display:block;
  border-radius: 12px;
  padding: 10px 10px;
  border:1px solid transparent;
  background: transparent;
  box-shadow:none;
  font-size: 13px;
}
.menu .dd-menu a:hover{background:rgba(37,99,235,.08)}
.menu .dd-menu a.active{
  border-color: rgba(37,99,235,.25);
  background: rgba(37,99,235,.10);
  font-weight: 750;
}

/* open on hover / keyboard */
.menu .dd:hover .dd-menu,
.menu .dd:focus-within .dd-menu{display:block}

/* mobile: align dropdown nicely */
@media(max-width: 720px){
  .menu .dd-menu{left:auto; right:0}
}
