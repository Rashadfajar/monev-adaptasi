<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MoNEv Adaptasi â€“ Input Data</title>
  <link rel="stylesheet" href="app1.css" />
  <style>
    /* small page-specific additions (LIGHT THEME) */
    .wizard-header{
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap
    }

    .wizard-title{
      font-weight:900;
      font-size:18px;
      color:var(--text)
    }

    .wizard-sub{
      color:var(--muted);
      font-size:12px;
      margin-top:4px
    }

    .seg{display:flex; gap:8px; flex-wrap:wrap}
    .seg button{border-radius:999px}

    .progress{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:10px
    }

    /* wizard steps */
    .step{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#ffffff;
      color:var(--muted);
      font-weight:800;
      cursor:pointer;
    }
    .step.active{
      color:var(--accent);
      border-color:#bfdbfe;
      background:#eff6ff;
    }
    .step.done{
      color:var(--good);
      border-color:#bbf7d0;
      background:#dcfce7;
    }

    /* form layout */
    .form-grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px
    }
    @media (max-width: 900px){
      .form-grid{grid-template-columns:1fr}
    }

    /* inputs */
    .input,
    textarea{
      width:100%;
      background:#ffffff;
      color:var(--text);
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px 12px;
      outline:none;
    }

    .input:focus,
    textarea:focus{
      border-color:#bfdbfe;
      box-shadow:0 0 0 4px rgba(37,99,235,.12);
    }

    textarea{
      min-height:110px;
      resize:vertical
    }

    .hint{
      font-size:12px;
      color:var(--muted)
    }

    /* pills */
    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#ffffff;
      font-weight:800;
      color:var(--text)
    }
    .pill.good{
      border-color:#bbf7d0;
      background:#dcfce7;
      color:var(--good)
    }
    .pill.warn{
      border-color:#fde68a;
      background:#fef3c7;
      color:var(--warn)
    }
    .pill.bad{
      border-color:#fecaca;
      background:#fee2e2;
      color:var(--bad)
    }

    /* footer actions */
    .footer-actions{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px
    }

    .btn-danger{
      background:#fee2e2;
      border-color:#fecaca;
      color:var(--bad)
    }

    /* file upload */
    .filebox{
      padding:10px 12px;
      border-radius:12px;
      border:1px dashed var(--line);
      background:#f8fafc
    }

    .filelist{
      list-style:none;
      padding:0;
      margin:10px 0 0;
      display:grid;
      gap:8px
    }

    .filelist li{
      padding:8px 10px;
      border-radius:12px;
      border:1px solid var(--line);
      background:#ffffff;
      font-size:13px;
      box-shadow:var(--shadow)
    }

    /* toast notification */
    .toast{
      position:fixed;
      right:16px;
      bottom:16px;
      padding:10px 12px;
      border-radius:12px;
      background:#ffffff;
      border:1px solid var(--line);
      box-shadow:var(--shadow);
      display:none;
      max-width:420px;
      color:var(--text)
    }
    .toast.show{display:block}
    .toast b{
      display:block;
      margin-bottom:4px
    }

    /* Mode toggle (Sektoral/Kewilayahan) */
    .seg .btn.btn-ghost{
      border-radius:999px;
    }

    /* default (tidak aktif) */
    .seg .btn.btn-ghost:not(.active){
      background:#ffffff;
      border:1px solid var(--line);
      color:var(--muted);
    }

    /* aktif */
    .seg .btn.btn-ghost.active{
      background:#eff6ff;
      border:1px solid #bfdbfe;
      color:var(--accent);
      /* box-shadow:0 0 0 4px rgba(37,99,235,.10); */
    }


  </style>
</head>

<body>
  <div class="app">
    <!-- TOP BAR -->
    <header class="topbar">
      <div class="brand">
        <button id="burgerBtn"
          class="icon-btn burger-btn"
          type="button"
          aria-label="Buka menu"
          aria-expanded="false"
          aria-controls="sidebar">
          â˜°
        </button>
        <div class="logo-container">
          <img src="assets/Logo_KLH.png" alt="Logo" class="logo">
        </div>
        <div class="brand-text">
          <div class="brand-title">Monev Adaptasi</div>
          <div class="brand-sub">Input Data</div>
        </div>
      </div>

      <div class="search">
        <input id="globalSearch" type="search" placeholder="Cari aksi / indikator / lokasi / K/L / OPD / periodeâ€¦" />
        <select id="searchScope">
          <option value="all">Semua</option>
          <option value="actions">Aksi</option>
          <option value="indicators">Indikator</option>
          <option value="locations">Lokasi</option>
          <option value="institutions">Instansi</option>
          <option value="reports">Laporan</option>
          <option value="help">Bantuan</option>
        </select>
        <button id="searchBtn" class="btn">Cari</button>
      </div>

      <div class="top-actions">
        <button id="langToggle" class="chip" title="Toggle ID/EN">ID</button>
        <button class="icon-btn" title="Bantuan">?</button>
        <button class="icon-btn" title="Notifikasi">ðŸ””</button>
        <button class="icon-btn" title="Pengguna">ðŸ‘¤</button>
      </div>
    </header>

    <div class="body">
      <!-- SIDEBAR -->
      <aside class="sidebar" id="sidebar">
        <nav class="nav">
          <a class="nav-item" href="home.html">Dashboard (Beranda)</a>
          <a class="nav-item active" href="input.html">Input Data</a>
          <a class="nav-item" href="review.html">Verifikasi & Validasi</a>
          <a class="nav-item" href="engine.html">Komputasi</a>
          <a class="nav-item" href="reporting.html">Pelaporan & Ekspor</a>
          <a class="nav-item" href="help.html">Pusat Bantuan</a>
          <div class="nav-divider"></div>
          <a class="nav-item" href="datahub.html">Koneksi Data</a>
        </nav>
        <!-- <div class="sidebar-footer"></div> -->
      </aside>

      <!-- OVERLAY (klik untuk menutup) -->
      <div class="sidebar-overlay" id="sidebarOverlay"></div>

      <!-- MAIN -->
      <main class="main">
        <!-- Wizard Header -->
        <section class="panel">
          <div class="wizard-header">
            <div>
              <div class="wizard-title" id="wizTitle">Input Data â€“ Sektoral</div>
              <div class="wizard-sub" id="wizSub">
                Isi data minimum (Lampiran) + bukti. Draf tersimpan otomatis di browser.
              </div>

              <div class="progress" id="stepper"></div>
            </div>

            <div class="seg">
              <button class="btn btn-ghost" id="modeH">Sektoral</button>
              <button class="btn btn-ghost" id="modeV">Kewilayahan</button>
              <span class="pill" id="readinessPill">Kesiapan: 0%</span>
              <button class="btn btn-danger" id="clearDraftBtn">Hapus Draf</button>
            </div>
          </div>
        </section>

        <!-- Step Content -->
        <section class="card" id="stepCard">
          <!-- Step 1 -->
          <div class="step-page" data-step="1">
            <div class="card-title">1) Identitas Aksi</div>
            <div class="form-grid">
              <div>
                <label>Nama Aksi Adaptasi *</label>
                <input class="input" id="actionName" placeholder="Contoh: Penguatan EWS banjir DAS X" />
                <div class="hint">Wajib. Maksimal 150 karakter.</div>
              </div>

              <div>
                <label>Status Implementasi *</label>
                <select id="implStatus" class="input">
                  <option value="">Pilihâ€¦</option>
                  <option value="Planned">Direncanakan</option>
                  <option value="Ongoing">Berjalan</option>
                  <option value="Completed">Selesai</option>
                </select>
                <div class="hint">Wajib. Dipakai untuk agregasi MPC.</div>
              </div>

              <div>
                <label>Instansi (K/L atau OPD) *</label>
                <select id="institution" class="input">
                  <option value="">Pilihâ€¦</option>
                  <option value="KLH">KLH</option>
                  <option value="KemenPU">KemenPU</option>
                  <option value="Prov A â€“ OPD">Prov A â€“ OPD</option>
                  <option value="Kab B â€“ OPD">Kab B â€“ OPD</option>
                </select>
                <div class="hint">Wajib. Untuk kewilayahan biasanya OPD.</div>
              </div>

              <div>
                <label>Unit Pelaksana</label>
                <input class="input" id="implementingUnit" placeholder="Direktorat/UPTD/Unit Teknis" />
                <div class="hint">Opsional (tetapi direkomendasikan).</div>
              </div>

              <div style="grid-column:1/-1">
                <label>Deskripsi Singkat Aksi (â‰¤ 50 kata)</label>
                <textarea id="actionDesc" placeholder="Ringkasan inti, target utama, dan pendekatan."></textarea>
              </div>
            </div>
          </div>

          <!-- Step 2 -->
          <div class="step-page hidden" data-step="2">
            <div class="card-title">2) Lokasi & Cakupan</div>
            <div class="form-grid">
              <div>
                <label>Provinsi *</label>
                <select id="prov" class="input">
                  <option value="">Pilihâ€¦</option>
                  <option value="Prov A">Prov A</option>
                  <option value="Prov B">Prov B</option>
                  <option value="Prov C">Prov C</option>
                </select>
              </div>

              <div>
                <label>Kab/Kota (jika ada)</label>
                <input class="input" id="kab" placeholder="Kabupaten/Kota" />
              </div>

              <div>
                <label>Kecamatan (jika ada)</label>
                <input class="input" id="kec" placeholder="Kecamatan" />
              </div>

              <div>
                <label>Desa/Kelurahan (jika ada)</label>
                <input class="input" id="desa" placeholder="Desa/Kelurahan" />
              </div>

              <div style="grid-column:1/-1">
                <label>Catatan Cakupan</label>
                <textarea id="coverageNotes" placeholder="Contoh: mencakup 3 kecamatan di wilayah pesisir; target 20 desa."></textarea>
              </div>
            </div>
          </div>

          <!-- Step 3 -->
          <div class="step-page hidden" data-step="3">
            <div class="card-title">3) Sektor, Tipologi, & Keterkaitan NAP</div>
            <div class="form-grid">
              <div>
                <label>Sektor Prioritas *</label>
                <select id="sector" class="input">
                  <option value="">Pilihâ€¦</option>
                  <option value="Food">Pangan</option>
                  <option value="Water">Air</option>
                  <option value="Health">Kesehatan</option>
                  <option value="Ecosystems">Ekosistem & Lanskap</option>
                  <option value="DRM">Kebencanaan</option>
                  <option value="Coastal">Pesisir & Pulau Kecil</option>
                </select>
              </div>

              <div>
                <label>Tipologi Aksi *</label>
                <select id="typology" class="input">
                  <option value="">Pilihâ€¦</option>
                  <option value="Infrastructure">Infrastruktur</option>
                  <option value="EbA">Adaptasi Berbasis Ekosistem (EbA)</option>
                  <option value="Capacity">Peningkatan Kapasitas</option>
                  <option value="Governance">Tata Kelola/Kelembagaan</option>
                  <option value="EWS">Peringatan Dini & Kesiapsiagaan</option>
                </select>
              </div>

              <div style="grid-column:1/-1">
                <label>Pemetaan NAP (ringkas)</label>
                <textarea id="napMap" placeholder="Contoh: Pilar Sosial & Mata Pencaharian â€“ kesehatan; aksi prioritas: penguatan layanan kesehatan tahan iklim."></textarea>
                <div class="hint">Opsional saat ini (bisa diwajibkan saat pemetaan NAP sudah final).</div>
              </div>
            </div>
          </div>

          <!-- Step 4 -->
          <div class="step-page hidden" data-step="4">
            <div class="card-title">4) Indikator Adaptasi (Minimum + Tambahan)</div>
            <div class="hint">Pilih minimal 1 indikator. Untuk versi awal, daftar indikator masih mock. Nanti akan diambil dari registry MPC.</div>
            <div class="form-grid" style="margin-top:10px">
              <div>
                <label>Indikator *</label>
                <select id="indicator" class="input">
                  <option value="">Pilihâ€¦</option>
                  <option value="IND-01">IND-01 â€“ Cakupan Aksi Adaptasi</option>
                  <option value="IND-03">IND-03 â€“ Luas Restorasi Ekosistem</option>
                  <option value="IND-07">IND-07 â€“ Akses Air Bersih Aman</option>
                </select>
              </div>
              <div>
                <label>Satuan *</label>
                <select id="unit" class="input">
                  <option value="">Pilihâ€¦</option>
                  <option value="%">%</option>
                  <option value="ha">ha</option>
                  <option value="unit">unit</option>
                  <option value="km">km</option>
                </select>
              </div>

              <div style="grid-column:1/-1">
                <label>Catatan Metode / Sumber Data</label>
                <textarea id="methodNotes" placeholder="Contoh: dihitung dari rekap OPD; verifikasi foto; dataset internal."></textarea>
              </div>
            </div>
          </div>

          <!-- Step 5 -->
          <div class="step-page hidden" data-step="5">
            <div class="card-title">5) Baseline â€“ Target â€“ Realisasi</div>
            <div class="form-grid">
              <div>
                <label>Baseline</label>
                <input class="input" id="baseline" type="number" step="0.0001" placeholder="Contoh: 50" />
                <div class="hint">Opsional jika baseline belum tersedia.</div>
              </div>
              <div>
                <label>Target Periode *</label>
                <input class="input" id="target" type="number" step="0.0001" placeholder="Contoh: 80" />
                <div class="hint">Wajib. Target untuk periode pelaporan aktif.</div>
              </div>
              <div>
                <label>Realisasi</label>
                <input class="input" id="actual" type="number" step="0.0001" placeholder="Contoh: 65" />
              </div>
              <div>
                <label>Periode Pelaporan *</label>
                <select id="period" class="input">
                  <option value="">Pilihâ€¦</option>
                  <option value="2026-S1">2026 â€“ S1</option>
                  <option value="2026-S2">2026 â€“ S2</option>
                  <option value="2027-S1">2027 â€“ S1</option>
                </select>
              </div>

              <div style="grid-column:1/-1">
                <label>Catatan Nilai</label>
                <textarea id="valueNotes" placeholder="Jelaskan jika ada deviasi target vs realisasi atau kondisi khusus."></textarea>
              </div>
            </div>
          </div>

          <!-- Step 6 -->
          <div class="step-page hidden" data-step="6">
            <div class="card-title">6) Bukti (Evidence)</div>
            <div class="hint">Unggah dokumen/foto/dataset atau masukkan tautan. Ini stub frontend: file belum dikirim ke server.</div>

            <div class="form-grid" style="margin-top:10px">
              <div class="filebox" style="grid-column:1/-1">
                <label>Upload File (DOC/PDF/JPG/PNG/CSV)</label>
                <input id="fileInput" type="file" multiple />
                <ul class="filelist" id="fileList"></ul>
              </div>

              <div style="grid-column:1/-1">
                <label>Tautan Bukti (opsional)</label>
                <input class="input" id="evidenceLink" placeholder="https://..." />
              </div>

              <div style="grid-column:1/-1">
                <label>Deskripsi Bukti</label>
                <textarea id="evidenceDesc" placeholder="Apa yang dibuktikan file/tautan ini? Periode? Lokasi?"></textarea>
              </div>
            </div>
          </div>

          <!-- Step 7 -->
          <div class="step-page hidden" data-step="7">
            <div class="card-title">7) Ringkasan & Ajukan</div>

            <div class="panel" style="margin-top:10px">
              <div class="row wrap" style="justify-content:space-between">
                <div>
                  <div class="muted">Ringkasan</div>
                  <div style="font-weight:900" id="summaryTitle">â€”</div>
                  <div class="hint" id="summaryMeta">â€”</div>
                </div>
                <span class="pill" id="readinessPill2">Kesiapan: 0%</span>
              </div>

              <div style="margin-top:12px" class="table-wrap">
                <table class="table" id="summaryTable">
                  <thead>
                    <tr>
                      <th>Field</th><th>Value</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>

              <div class="hint" style="margin-top:10px">
                Tombol ajukan akan aktif jika item wajib minimal terpenuhi.
              </div>
            </div>

            <div class="footer-actions">
              <div class="row wrap">
                <button class="btn btn-ghost" id="saveDraftBtn">Simpan Draf</button>
                <button class="btn btn-ghost" id="exportDraftBtn">Ekspor Draf (JSON)</button>
              </div>

              <div class="row wrap">
                <button class="btn btn-ghost" id="backBtn">Kembali</button>
                <button class="btn" id="submitBtn" disabled>Ajukan untuk Verifikasi</button>
              </div>
            </div>
          </div>

          <!-- Footer navigation for steps 1-6 -->
          <div class="footer-actions" id="navFooter">
            <div class="row wrap">
              <span class="hint" id="stepHint">Step 1 of 7</span>
            </div>
            <div class="row wrap">
              <button class="btn btn-ghost" id="prevBtn">Kembali</button>
              <button class="btn" id="nextBtn">Lanjut</button>
            </div>
          </div>
        </section>

        <div class="toast" id="toast">
          <b id="toastTitle">Tersimpan</b>
          <div id="toastMsg" class="muted">Draf tersimpan di browser.</div>
        </div>
      </main>
    </div>
  </div>

  <script src="input.js"></script>
</body>
</html>
